<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.6.0.final utlizzo versione della libreria JasperReports5.1.0  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="ec" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="8b17b5b8-d5a8-47a1-96a0-f5fb5ff0a427">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.property.dataset.dialog.DatasetDialog.sash.w1" value="544"/>
	<property name="com.jaspersoft.studio.property.dataset.dialog.DatasetDialog.sash.w2" value="446"/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w1" value="123"/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w2" value="872"/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="iDempiere"/>
	<style name="Style1"/>
	<parameter name="C_BPartner_ID" class="java.lang.Integer"/>
	<parameter name="DateAcctFrom" class="java.util.Date"/>
	<parameter name="DateAcctTo" class="java.util.Date">
		<defaultValueExpression><![CDATA[new Date()]]></defaultValueExpression>
	</parameter>
	<parameter name="TOTALS" class="java.util.HashMap" isForPrompting="false"/>
	<parameter name="AD_CLIENT_ID" class="java.lang.Integer"/>
	<parameter name="AD_Org_ID" class="java.lang.Integer"/>
	<parameter name="image_file_name" class="java.lang.String" isForPrompting="false"/>
	<parameter name="RESOURCE_DIR" class="java.lang.String" isForPrompting="false">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="AD_LANGUAGE" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA[$P{AD_LANGUAGE}]]></defaultValueExpression>
	</parameter>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["./"]]></defaultValueExpression>
	</parameter>
	<parameter name="RESOURCE" class="java.util.PropertyResourceBundle" isForPrompting="false"/>
	<parameter name="RECORD_ID" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="IsCustomer" class="java.lang.String"/>
	<parameter name="IsVendor" class="java.lang.String"/>
	<parameter name="IsSOTrx" class="java.lang.String"/>
	<parameter name="Dateopenamt" class="java.util.Date"/>
	<queryString>
		<![CDATA[select 
inv.ad_org_id as ad_org_id,
inv.DATEINVOICED as DateTrx ,
inv.DOCUMENTNO,
inv.issotrx,
doctrl.NAME as name,
bpl.phone,
bpl.phone2,
bpl.fax,
bpl.email,
l.address1,
l.address2,
l.city,
bp.c_bpartner_id,
bp.NAME as "BPARTNER",
bp."ad_language"as ad_language,
l.postal,
l.postal_add,
doc.docbasetype,
/*
	 CASE WHEN inv.DESCRIPTION is null THEN ( SELECT pro.NAME FROM M_PRODUCT pro,C_INVOICELINE il
         	   WHERE inv.C_INVOICE_ID=il.C_INVOICE_ID
         	  AND il.M_PRODUCT_ID=pro.M_PRODUCT_ID LIMIT 1)
	  ELSE left(inv.DESCRIPTION,30) END AS
	  */
inv.DESCRIPTION,
CASE WHEN doc.docbasetype IN ('ARC','API') THEN
	 inv.GRANDTOTAL*-1
ELSE
	ABS(inv.GRANDTOTAL)
END AS "grandtotal",
pay.payamt as payamt,
--abb.amount - abb.overunderamt as payamt,
CASE WHEN doc.docbasetype IN ('ARC','API') THEN
 ABS(abb.Amount)
ELSE
  abb.Amount*-1
END as AllocationAmt,
CASE WHEN doc.docbasetype IN ('ARC','API') THEN
  abb.overunderamt
ELSE
abb.overunderamt 
END as overunderamt,
pay.datetrx as PaymentDate,
pay.documentno as paymentdoc,
pay.description as paymentdescription,
bank.name as bank_name,
bank.iban as bank_iban,
ps.payschedule AS payschedule,
(select inv2.documentno  from c_allocationhdr allhdr LEFT JOIN c_allocationline al2 on allhdr.c_allocationhdr_id=al2.c_allocationhdr_id 
	LEFT JOIN c_invoice inv2 on al2.c_invoice_id=inv2.c_invoice_id where abb.c_allocationhdr_id=allhdr.c_allocationhdr_id and inv.c_invoice_id<>al2.c_invoice_id limit 1
) as inv2_documentno

from C_INVOICE inv
INNER JOIN c_doctype doc ON inv.c_doctype_id=doc.c_doctype_id
INNER JOIN C_BPartner bp ON inv.c_bpartner_id=bp.c_bpartner_id 
LEFT JOIN C_BPARTNER_LOCATION bpl ON bp.C_BPARTNER_ID  = bpl.C_BPARTNER_ID AND bpl.isbillto='Y'
LEFT JOIN C_LOCATION l ON bpl.C_LOCATION_ID = l.C_LOCATION_ID
LEFT JOIN C_DOCTYPE_TRL doctrl ON inv.c_doctype_id = doctrl.c_doctype_id and doctrl.ad_language='it_IT'
LEFT JOIN C_AllocationLine abb ON inv.c_invoice_id=abb.c_invoice_id 
LEFT JOIN C_Payment pay ON abb.c_payment_id=pay.c_payment_id
LEFT JOIN C_BANKaccount bank ON pay.c_bankaccount_id=bank.c_bankaccount_id
LEFT JOIN lit_rep_payschedule_v ps ON inv.c_invoice_id = ps.c_invoice_id
WHERE inv.C_DOCTYPE_ID=doc.C_DOCTYPE_ID AND inv.DOCSTATUS IN ('CO','CL')
and 
	CASE WHEN $P{IsCustomer} = 'Y' THEN bp.iscustomer = $P{IsCustomer}  ELSE 1=1
END
AND
	CASE WHEN $P{IsVendor} ='Y' THEN bp.isvendor=  $P{IsVendor} ELSE 1=1
END
AND
	CASE WHEN  $P{IsSOTrx} IS NOT NULL THEN inv.issotrx = $P{IsSOTrx} ELSE 1=1
END
AND doc.docbasetype IN ('ARI','ARC','API','APC')
AND inv.ad_client_id=  $P{AD_CLIENT_ID} 
AND inv.ad_org_id= $P{AD_Org_ID} 
AND 
CASE WHEN  $P{DateAcctFrom}::character <>'0' THEN inv.DATEINVOICED >=   $P{DateAcctFrom} 
ELSE 1=1
END
AND  inv.DATEINVOICED <=  $P{DateAcctTo} 
AND 
  CASE
    WHEN  $P{C_BPartner_ID}  <>0 THEN bp.c_bpartner_id = $P{C_BPartner_ID} 
    ELSE
    1=1
  END
  union 
select 
p.ad_org_id as ad_org_id,
p.datetrx as DateTrx ,
p.DOCUMENTNO,
p.isreceipt,
'prepaid' as name,
bpl.phone,
bpl.phone2,
bpl.fax,
bpl.email,
l.address1,
l.address2,
l.city,
bp.c_bpartner_id,
bp.NAME as "BPARTNER",
bp."ad_language"as ad_language,
l.postal,
l.postal_add,
doc.docbasetype,
p.description,
0 as grandtotal,
p.payamt*-1 as payamt,
CASE WHEN sum(al.amount) IS NULL  THEN p.payamt
ELSE
p.payamt-sum (al.amount) 
END 
as AllocationAmt,
0 as overunderAmt,
p.datetrx as PaymentDate,
p.documentno as paymentdoc,
p.description as paymentdescription,
bank.name as bank_name,
bank.iban as bank_iban,
''as payschedule,
'' as inv2_documentno
from c_payment_v p 
INNER JOIN c_doctype doc ON p.c_doctype_id=doc.c_doctype_id
INNER JOIN C_BPartner bp ON p.c_bpartner_id=bp.c_bpartner_id 
LEFT OUTER JOIN C_BPARTNER_LOCATION bpl ON bp.C_BPARTNER_ID  = bpl.C_BPARTNER_ID AND bpl.isbillto='Y'
LEFT OUTER JOIN C_LOCATION l ON bpl.C_LOCATION_ID = l.C_LOCATION_ID
LEFT OUTER JOIN C_DOCTYPE_TRL doctrl ON p.c_doctype_id = doctrl.c_doctype_id and doctrl.ad_language='it_IT'
LEFT OUTER JOIN C_BANKaccount bank on p.c_bankaccount_id=bank.c_bankaccount_id
LEFT OUTER JOIN c_allocationline al on p.c_payment_id=al.c_payment_id
where p.isallocated='N' 
and 
CASE WHEN $P{IsCustomer} = 'Y' THEN bp.iscustomer = $P{IsCustomer}   else 1=1
END
and 
case when $P{IsVendor} ='Y' then bp.isvendor=  $P{IsVendor} else 1=1
end
AND p.ad_client_id= $P{AD_CLIENT_ID} 
and
   CASE
    WHEN  $P{C_BPartner_ID}  <>0 then bp.c_bpartner_id = $P{C_BPartner_ID} 
  END
group by p.datetrx,p.DOCUMENTNO,p.isreceipt,bp.c_bpartner_id,bp.NAME,bpl.phone,bpl.phone2,bpl.fax,bpl.email,l.address1,l.address2,l.city,l.postal,l.postal_add,doc.docbasetype,p.description,
p.payamt,p.datetrx ,p.documentno,p.description,bank.name,bank.iban,bp.ad_language,p.ad_org_id
order by "BPARTNER",datetrx,documentno]]>
	</queryString>
	<field name="ad_org_id" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.label" value="ad_org_id"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="c_invoice"/>
	</field>
	<field name="datetrx" class="java.sql.Timestamp">
		<property name="com.jaspersoft.studio.field.label" value="datetrx"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="c_invoice"/>
	</field>
	<field name="documentno" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="documentno"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="c_invoice"/>
	</field>
	<field name="issotrx" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="issotrx"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="c_invoice"/>
	</field>
	<field name="name" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="name"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="c_doctype_trl"/>
	</field>
	<field name="phone" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="phone"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="c_bpartner_location"/>
	</field>
	<field name="phone2" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="phone2"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="c_bpartner_location"/>
	</field>
	<field name="fax" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="fax"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="c_bpartner_location"/>
	</field>
	<field name="email" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="email"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="c_bpartner_location"/>
	</field>
	<field name="address1" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="address1"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="c_location"/>
	</field>
	<field name="address2" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="address2"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="c_location"/>
	</field>
	<field name="city" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="city"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="c_location"/>
	</field>
	<field name="c_bpartner_id" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.label" value="c_bpartner_id"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="c_bpartner"/>
	</field>
	<field name="BPARTNER" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="BPARTNER"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="c_bpartner"/>
	</field>
	<field name="ad_language" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="ad_language"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="c_bpartner"/>
	</field>
	<field name="postal" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="postal"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="c_location"/>
	</field>
	<field name="postal_add" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="postal_add"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="c_location"/>
	</field>
	<field name="docbasetype" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="docbasetype"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="c_doctype"/>
	</field>
	<field name="description" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="description"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="c_payment_v"/>
	</field>
	<field name="grandtotal" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.label" value="grandtotal"/>
	</field>
	<field name="payamt" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.label" value="payamt"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="c_payment"/>
	</field>
	<field name="allocationamt" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.label" value="allocationamt"/>
	</field>
	<field name="overunderamt" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.label" value="overunderamt"/>
	</field>
	<field name="paymentdate" class="java.sql.Timestamp">
		<property name="com.jaspersoft.studio.field.label" value="paymentdate"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="c_payment"/>
	</field>
	<field name="paymentdoc" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="paymentdoc"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="c_payment"/>
	</field>
	<field name="paymentdescription" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="paymentdescription"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="c_payment"/>
	</field>
	<field name="bank_name" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="bank_name"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="c_bankaccount"/>
	</field>
	<field name="bank_iban" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="bank_iban"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="c_bankaccount"/>
	</field>
	<field name="payschedule" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="payschedule"/>
	</field>
	<field name="inv2_documentno" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="inv2_documentno"/>
	</field>
	<sortField name="datetrx"/>
	<sortField name="documentno"/>
	<sortField name="paymentdate"/>
	<variable name="Pagamenti_2_g_Report" class="java.math.BigDecimal" resetType="Group" resetGroup="BPartner" calculation="Sum">
		<variableExpression><![CDATA[$F{allocationamt}]]></variableExpression>
	</variable>
	<variable name="GrandTotal_SaldoFinale" class="java.math.BigDecimal" incrementType="Group" incrementGroup="Documentno" calculation="Sum">
		<variableExpression><![CDATA[$F{grandtotal}]]></variableExpression>
	</variable>
	<variable name="Returnamt" class="java.math.BigDecimal" calculation="System"/>
	<variable name="Saldo_riga_doc_detract_pag" class="java.math.BigDecimal" resetType="Group" resetGroup="Documentno" incrementType="Group" incrementGroup="Documentno" calculation="Sum">
		<variableExpression><![CDATA[$F{allocationamt}]]></variableExpression>
		<initialValueExpression><![CDATA[$F{allocationamt}]]></initialValueExpression>
	</variable>
	<variable name="grandtotal1" class="java.math.BigDecimal" incrementType="Group" incrementGroup="Documentno" calculation="Sum">
		<variableExpression><![CDATA[$F{grandtotal}==null?new BigDecimal(0):$F{grandtotal}]]></variableExpression>
	</variable>
	<variable name="allocationamt1" class="java.math.BigDecimal" resetType="Group" resetGroup="BPartner" calculation="Sum">
		<variableExpression><![CDATA[$F{allocationamt}==null?new BigDecimal(0):$F{allocationamt}]]></variableExpression>
	</variable>
	<variable name="Saldo_riga_doc_saldo_prec" class="java.math.BigDecimal" resetType="None" calculation="Sum">
		<variableExpression><![CDATA[//$V{allocationamt1}==null? new BigDecimal(0):$V{grandtotal1}.add($V{allocationamt1})
$V{grandtotal1}.add($V{allocationamt1})]]></variableExpression>
	</variable>
	<variable name="Totale_Documenti" class="java.math.BigDecimal" incrementType="Group" incrementGroup="Documentno" calculation="Sum">
		<variableExpression><![CDATA[$F{grandtotal}]]></variableExpression>
	</variable>
	<variable name="Variable_1_2" class="java.math.BigDecimal" incrementType="Group" incrementGroup="Documentno" calculation="Sum">
		<variableExpression><![CDATA[$F{grandtotal}==null?new BigDecimal(0):$F{grandtotal}]]></variableExpression>
	</variable>
	<variable name="Variable_1_2_1" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{name}=="prepaid"?$F{allocationamt}:$F{allocationamt}]]></variableExpression>
	</variable>
	<variable name="Variable_1_2_1_1" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{name}.equals("prepaid")?$F{payamt}:$F{payamt}]]></variableExpression>
	</variable>
	<group name="BPartner" isStartNewPage="true" isReprintHeaderOnEachPage="true" keepTogether="true">
		<groupExpression><![CDATA[$F{c_bpartner_id}]]></groupExpression>
		<groupHeader>
			<band height="73" splitType="Stretch">
				<subreport>
					<reportElement key="" positionType="Float" x="0" y="45" width="555" height="15" isRemoveLineWhenBlank="true" uuid="2515d8c4-d2f0-432e-98a0-c4d0c26c9686">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<subreportParameter name="C_BPartner_ID">
						<subreportParameterExpression><![CDATA[$P{C_BPartner_ID}]]></subreportParameterExpression>
					</subreportParameter>
					<subreportParameter name="DateAcctFrom">
						<subreportParameterExpression><![CDATA[$P{DateAcctFrom}]]></subreportParameterExpression>
					</subreportParameter>
					<subreportParameter name="Dateopenamt">
						<subreportParameterExpression><![CDATA[$P{Dateopenamt}]]></subreportParameterExpression>
					</subreportParameter>
					<subreportParameter name="Returnamt">
						<subreportParameterExpression><![CDATA[$V{Returnamt}]]></subreportParameterExpression>
					</subreportParameter>
					<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					<returnValue subreportVariable="openningbal1" toVariable="Returnamt"/>
					<subreportExpression><![CDATA[$P{SUBREPORT_DIR} +"customerstatement_sub.jasper"]]></subreportExpression>
				</subreport>
				<frame>
					<reportElement mode="Opaque" x="0" y="60" width="555" height="13" forecolor="#000000" backcolor="#6600CC" uuid="419fbf35-7f2d-4bfa-96a0-8ef81b986955"/>
					<staticText>
						<reportElement key="element-90" mode="Transparent" x="0" y="0" width="60" height="13" forecolor="#FFFFFF" backcolor="#D1D1D1" uuid="3c5ad42e-e5ae-4d14-951f-3e99ceb777df"/>
						<box leftPadding="2"/>
						<textElement textAlignment="Left" verticalAlignment="Middle" rotation="None" markup="none">
							<font fontName="SansSerif" size="7" isBold="true"/>
							<paragraph lineSpacing="Single"/>
						</textElement>
						<text><![CDATA[DATA]]></text>
					</staticText>
					<staticText>
						<reportElement key="element-90" mode="Transparent" x="240" y="0" width="180" height="13" forecolor="#FFFFFF" backcolor="#D1D1D1" uuid="4fbfa410-6a76-407c-8331-5b775c449c2e"/>
						<textElement textAlignment="Left" verticalAlignment="Middle" rotation="None" markup="none">
							<font fontName="SansSerif" size="7" isBold="true"/>
							<paragraph lineSpacing="Single"/>
						</textElement>
						<text><![CDATA[NUM. DOC.]]></text>
					</staticText>
					<staticText>
						<reportElement key="element-90" mode="Transparent" x="60" y="0" width="180" height="13" forecolor="#FFFFFF" backcolor="#D1D1D1" uuid="52fc601c-715e-415e-a31f-f9dcfbcec281"/>
						<textElement textAlignment="Left" verticalAlignment="Middle" rotation="None" markup="none">
							<font fontName="SansSerif" size="7" isBold="true"/>
							<paragraph lineSpacing="Single"/>
						</textElement>
						<text><![CDATA[DESCRIZIONE]]></text>
					</staticText>
					<staticText>
						<reportElement key="element-90" mode="Transparent" x="493" y="0" width="62" height="13" forecolor="#FFFFFF" backcolor="#D1D1D1" uuid="08444d8b-fb59-42e3-b634-409834659e0a"/>
						<box rightPadding="2"/>
						<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None" markup="none">
							<font fontName="SansSerif" size="7" isBold="true"/>
							<paragraph lineSpacing="Single"/>
						</textElement>
						<text><![CDATA[SALDO]]></text>
					</staticText>
					<staticText>
						<reportElement key="element-90" mode="Transparent" x="420" y="0" width="73" height="13" forecolor="#FFFFFF" backcolor="#D1D1D1" uuid="ed95a1cb-72c9-4ede-b98a-a424aa67d5ef"/>
						<box rightPadding="2"/>
						<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None" markup="none">
							<font fontName="SansSerif" size="7" isBold="true"/>
							<paragraph lineSpacing="Single"/>
						</textElement>
						<text><![CDATA[IMPORTO]]></text>
					</staticText>
				</frame>
				<frame>
					<reportElement x="0" y="0" width="555" height="45" uuid="8e43cb3f-9b80-4853-b9c3-8853d4ed03d9"/>
					<box>
						<pen lineWidth="0.5" lineStyle="Solid"/>
					</box>
					<textField isStretchWithOverflow="true" isBlankWhenNull="true">
						<reportElement key="textField-3" positionType="Float" stretchType="RelativeToTallestObject" x="1" y="21" width="229" height="10" uuid="61580903-6cd9-4291-8069-446e92dfa2fb"/>
						<box topPadding="0" leftPadding="2" bottomPadding="0" rightPadding="0"/>
						<textElement verticalAlignment="Middle">
							<font fontName="SansSerif" size="7"/>
						</textElement>
						<textFieldExpression><![CDATA[$F{address1}]]></textFieldExpression>
					</textField>
					<textField isStretchWithOverflow="true" isBlankWhenNull="true">
						<reportElement key="textField-6" positionType="Float" stretchType="RelativeToTallestObject" x="1" y="31" width="70" height="10" uuid="538f1248-f49d-4261-ac2e-780c3e8fa0f8">
							<property name="com.jaspersoft.studio.unit.height" value="px"/>
						</reportElement>
						<box topPadding="0" leftPadding="2" bottomPadding="0" rightPadding="0"/>
						<textElement verticalAlignment="Middle">
							<font fontName="SansSerif" size="7"/>
						</textElement>
						<textFieldExpression><![CDATA[$F{postal}]]></textFieldExpression>
					</textField>
					<textField isStretchWithOverflow="true" isBlankWhenNull="true">
						<reportElement key="textField-7" positionType="Float" stretchType="RelativeToTallestObject" x="310" y="31" width="150" height="10" uuid="73d7c820-d606-4ffe-980e-1138d4e5106e">
							<property name="com.jaspersoft.studio.unit.height" value="px"/>
						</reportElement>
						<textElement verticalAlignment="Middle">
							<font fontName="SansSerif" size="7"/>
						</textElement>
						<textFieldExpression><![CDATA[T($F{phone}) + ' ' + T($F{phone2})]]></textFieldExpression>
					</textField>
					<textField isStretchWithOverflow="true" isBlankWhenNull="true">
						<reportElement key="textField-5" positionType="Float" stretchType="RelativeToTallestObject" x="71" y="31" width="159" height="10" uuid="19119d53-03ee-43d4-bcac-050ba8e7df88">
							<property name="com.jaspersoft.studio.unit.height" value="px"/>
						</reportElement>
						<textElement verticalAlignment="Middle">
							<font fontName="SansSerif" size="7"/>
						</textElement>
						<textFieldExpression><![CDATA[$F{city}]]></textFieldExpression>
					</textField>
					<textField isBlankWhenNull="true">
						<reportElement key="staticText-2" positionType="Float" stretchType="RelativeToTallestObject" mode="Transparent" x="230" y="31" width="80" height="10" forecolor="#000000" backcolor="#FFFFFF" uuid="ae343aee-f42e-4f3f-a2fd-9af0eddf4b87">
							<property name="com.jaspersoft.studio.unit.height" value="px"/>
						</reportElement>
						<textElement textAlignment="Left" verticalAlignment="Middle" rotation="None" markup="none">
							<font fontName="SansSerif" size="7"/>
							<paragraph lineSpacing="Single"/>
						</textElement>
						<textFieldExpression><![CDATA[$P{RESOURCE}.getString("phonenumber_"+$F{ad_language})]]></textFieldExpression>
					</textField>
					<textField isBlankWhenNull="true">
						<reportElement key="staticText-2" positionType="Float" stretchType="RelativeToTallestObject" mode="Transparent" x="230" y="21" width="80" height="10" forecolor="#000000" backcolor="#FFFFFF" uuid="d7fd421f-da79-4e19-92f5-2d364cfdc8a2">
							<property name="com.jaspersoft.studio.unit.height" value="px"/>
						</reportElement>
						<textElement textAlignment="Left" verticalAlignment="Middle" rotation="None" markup="none">
							<font fontName="SansSerif" size="7"/>
							<paragraph lineSpacing="Single"/>
						</textElement>
						<textFieldExpression><![CDATA[$P{RESOURCE}.getString("mail_"+$F{ad_language})]]></textFieldExpression>
					</textField>
					<textField isBlankWhenNull="true">
						<reportElement positionType="Float" x="310" y="21" width="150" height="10" uuid="bceca94b-58c0-429e-83e1-6d136e2618cc">
							<property name="com.jaspersoft.studio.unit.height" value="px"/>
						</reportElement>
						<textElement verticalAlignment="Middle">
							<font fontName="SansSerif" size="7"/>
						</textElement>
						<textFieldExpression><![CDATA[$F{email}]]></textFieldExpression>
					</textField>
					<textField pattern="" isBlankWhenNull="true">
						<reportElement key="textField-1" positionType="Float" x="0" y="0" width="555" height="21" forecolor="#6600CC" uuid="182bc31a-97af-45ea-a8a7-f9325f8e227b">
							<property name="com.jaspersoft.studio.unit.height" value="px"/>
						</reportElement>
						<box topPadding="0" leftPadding="2" bottomPadding="0" rightPadding="0">
							<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
							<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
							<bottomPen lineWidth="0.0" lineColor="#000000"/>
							<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						</box>
						<textElement textAlignment="Left" verticalAlignment="Middle" markup="styled">
							<font fontName="SansSerif" size="13" isBold="true"/>
						</textElement>
						<textFieldExpression><![CDATA[$F{BPARTNER}]]></textFieldExpression>
					</textField>
				</frame>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="34">
				<frame>
					<reportElement x="250" y="5" width="304" height="29" uuid="d54eafa3-395b-42f1-aa83-7d514bfc1916">
						<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.grid.JSSGridBagLayout"/>
					</reportElement>
					<box>
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<staticText>
						<reportElement key="textField" positionType="Float" mode="Opaque" x="0" y="1" width="102" height="14" forecolor="#FFFFFF" backcolor="#2147ED" uuid="8bf38111-0b1e-4300-ab28-4fb6db7f3a88">
							<property name="com.jaspersoft.layout.grid.x" value="-1"/>
							<property name="com.jaspersoft.layout.grid.y" value="1"/>
							<property name="com.jaspersoft.layout.grid.weight.x" value="1.0"/>
							<property name="com.jaspersoft.layout.grid.weight.y" value="1.0"/>
							<property name="com.jaspersoft.layout.grid.rowspan" value="1"/>
							<property name="com.jaspersoft.layout.grid.colspan" value="1"/>
							<property name="com.jaspersoft.layout.grid.weight.fixed" value="false"/>
						</reportElement>
						<box topPadding="0" leftPadding="0" bottomPadding="0" rightPadding="4">
							<pen lineWidth="0.5" lineColor="#000000"/>
						</box>
						<textElement textAlignment="Right" verticalAlignment="Middle">
							<font fontName="SansSerif" size="10" isBold="true"/>
						</textElement>
						<text><![CDATA[TOTALE]]></text>
					</staticText>
					<textField pattern="¤ #,##0.00;¤ - #,##0.00">
						<reportElement positionType="Float" x="0" y="15" width="102" height="14" uuid="50c8c993-43f6-42ea-a251-d8e8485cf045">
							<property name="com.jaspersoft.studio.unit.width" value="px"/>
							<property name="com.jaspersoft.studio.unit.x" value="px"/>
							<property name="com.jaspersoft.studio.unit.height" value="px"/>
							<property name="com.jaspersoft.layout.grid.x" value="-1"/>
							<property name="com.jaspersoft.layout.grid.y" value="2"/>
							<property name="com.jaspersoft.layout.grid.weight.x" value="1.0"/>
							<property name="com.jaspersoft.layout.grid.weight.y" value="1.0"/>
							<property name="com.jaspersoft.layout.grid.rowspan" value="1"/>
							<property name="com.jaspersoft.layout.grid.colspan" value="1"/>
							<property name="com.jaspersoft.layout.grid.weight.fixed" value="false"/>
						</reportElement>
						<box topPadding="0" leftPadding="4" bottomPadding="0" rightPadding="4">
							<pen lineWidth="0.5" lineColor="#000000"/>
						</box>
						<textElement textAlignment="Right" verticalAlignment="Middle">
							<font fontName="SansSerif" size="10" isBold="true"/>
						</textElement>
						<textFieldExpression><![CDATA[$V{Totale_Documenti}]]></textFieldExpression>
					</textField>
					<staticText>
						<reportElement key="textField" positionType="Float" mode="Opaque" x="102" y="1" width="101" height="14" forecolor="#FFFFFF" backcolor="#2147ED" uuid="eb6b65c1-6a61-4a04-9c8c-4ac2c59c11f7">
							<property name="com.jaspersoft.studio.unit.height" value="px"/>
							<property name="com.jaspersoft.layout.grid.x" value="-1"/>
							<property name="com.jaspersoft.layout.grid.y" value="1"/>
							<property name="com.jaspersoft.layout.grid.weight.x" value="1.0"/>
							<property name="com.jaspersoft.layout.grid.weight.y" value="1.0"/>
							<property name="com.jaspersoft.layout.grid.rowspan" value="1"/>
							<property name="com.jaspersoft.layout.grid.colspan" value="1"/>
							<property name="com.jaspersoft.layout.grid.weight.fixed" value="false"/>
						</reportElement>
						<box topPadding="0" leftPadding="4" bottomPadding="0" rightPadding="4">
							<pen lineWidth="0.5" lineColor="#000000"/>
						</box>
						<textElement textAlignment="Right" verticalAlignment="Middle">
							<font fontName="SansSerif" size="10" isBold="true"/>
						</textElement>
						<text><![CDATA[PAGAMENTI	]]></text>
					</staticText>
					<textField pattern="¤ #,##0.00;¤ - #,##0.00">
						<reportElement positionType="Float" x="102" y="15" width="101" height="14" uuid="ba1e22fa-2e33-4b68-a93d-439a794452e0">
							<property name="com.jaspersoft.layout.grid.x" value="-1"/>
							<property name="com.jaspersoft.layout.grid.y" value="2"/>
							<property name="com.jaspersoft.layout.grid.weight.x" value="1.0"/>
							<property name="com.jaspersoft.layout.grid.weight.y" value="1.0"/>
							<property name="com.jaspersoft.layout.grid.rowspan" value="1"/>
							<property name="com.jaspersoft.layout.grid.colspan" value="1"/>
							<property name="com.jaspersoft.layout.grid.weight.fixed" value="false"/>
						</reportElement>
						<box topPadding="0" leftPadding="4" bottomPadding="0" rightPadding="4">
							<pen lineWidth="0.5" lineColor="#000000"/>
						</box>
						<textElement textAlignment="Right" verticalAlignment="Middle">
							<font fontName="SansSerif" size="10" isBold="true"/>
						</textElement>
						<textFieldExpression><![CDATA[//$V{Pagamenti_2_g_Report} == null ? new BigDecimal(0) : $V{Variable_1_2_1}
$V{Pagamenti_2_g_Report} == null ? new BigDecimal(0) : $V{Variable_1_2_1}]]></textFieldExpression>
					</textField>
					<staticText>
						<reportElement key="textField" positionType="Float" mode="Opaque" x="203" y="1" width="101" height="14" forecolor="#FFFFFF" backcolor="#2147ED" uuid="1d3e891b-dd2d-49e9-abd9-582912d42b54">
							<property name="com.jaspersoft.studio.unit.width" value="px"/>
							<property name="com.jaspersoft.studio.unit.height" value="px"/>
							<property name="com.jaspersoft.layout.grid.x" value="-1"/>
							<property name="com.jaspersoft.layout.grid.y" value="1"/>
							<property name="com.jaspersoft.layout.grid.weight.x" value="1.0"/>
							<property name="com.jaspersoft.layout.grid.weight.y" value="1.0"/>
							<property name="com.jaspersoft.layout.grid.rowspan" value="1"/>
							<property name="com.jaspersoft.layout.grid.colspan" value="1"/>
							<property name="com.jaspersoft.layout.grid.weight.fixed" value="false"/>
						</reportElement>
						<box topPadding="0" leftPadding="0" bottomPadding="0" rightPadding="4">
							<pen lineWidth="0.5" lineColor="#000000"/>
						</box>
						<textElement textAlignment="Right" verticalAlignment="Middle">
							<font fontName="SansSerif" size="10" isBold="true"/>
						</textElement>
						<text><![CDATA[SALDO FINALE]]></text>
					</staticText>
					<textField pattern="¤#,##0.00;¤-#,##0.00">
						<reportElement positionType="Float" x="203" y="15" width="101" height="14" uuid="225516d5-2e6a-4332-8401-cc1b312d4220">
							<property name="com.jaspersoft.studio.unit.height" value="px"/>
							<property name="com.jaspersoft.layout.grid.x" value="-1"/>
							<property name="com.jaspersoft.layout.grid.y" value="2"/>
							<property name="com.jaspersoft.layout.grid.weight.x" value="1.0"/>
							<property name="com.jaspersoft.layout.grid.weight.y" value="1.0"/>
							<property name="com.jaspersoft.layout.grid.rowspan" value="1"/>
							<property name="com.jaspersoft.layout.grid.colspan" value="1"/>
							<property name="com.jaspersoft.layout.grid.weight.fixed" value="false"/>
						</reportElement>
						<box topPadding="0" leftPadding="4" bottomPadding="0" rightPadding="4">
							<pen lineWidth="0.5" lineColor="#000000"/>
							<topPen lineWidth="0.5" lineColor="#000000"/>
							<leftPen lineWidth="0.5" lineColor="#000000"/>
							<bottomPen lineWidth="0.5" lineColor="#000000"/>
							<rightPen lineWidth="0.5" lineColor="#000000"/>
						</box>
						<textElement textAlignment="Right" verticalAlignment="Middle">
							<font fontName="SansSerif" size="10" isBold="true"/>
						</textElement>
						<textFieldExpression><![CDATA[$V{Pagamenti_2_g_Report}==null?$V{Variable_1_2}:$V{Variable_1_2}.add($V{Variable_1_2_1})]]></textFieldExpression>
					</textField>
				</frame>
			</band>
		</groupFooter>
	</group>
	<group name="Documentno" keepTogether="true">
		<groupExpression><![CDATA[$F{documentno}]]></groupExpression>
		<groupHeader>
			<band height="12">
				<property name="com.jaspersoft.studio.unit.height" value="px"/>
				<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.HorizontalRowLayout"/>
				<printWhenExpression><![CDATA[!$F{name}.equals("prepaid")]]></printWhenExpression>
				<frame>
					<reportElement positionType="Float" x="0" y="0" width="555" height="12" isRemoveLineWhenBlank="true" forecolor="#A30303" uuid="72b06c80-13c1-4365-af5c-6577e99d18b0"/>
					<box topPadding="0" leftPadding="2" bottomPadding="0" rightPadding="0">
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
						<reportElement key="textField" positionType="Float" x="238" y="0" width="180" height="12" forecolor="#A30303" uuid="fa04fc64-763b-4278-b262-f8548907f1de">
							<property name="com.jaspersoft.studio.unit.height" value="px"/>
						</reportElement>
						<box topPadding="0" leftPadding="2" bottomPadding="0" rightPadding="2">
							<pen lineWidth="0.25"/>
							<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
							<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
							<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
							<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						</box>
						<textElement textAlignment="Left" verticalAlignment="Middle">
							<font fontName="SansSerif" size="8" isBold="true"/>
						</textElement>
						<textFieldExpression><![CDATA[T($F{documentno})]]></textFieldExpression>
					</textField>
					<textField pattern="¤#,##0.00;¤-#,##0.00" isBlankWhenNull="true">
						<reportElement key="textField" positionType="Float" x="418" y="0" width="73" height="12" forecolor="#A30303" uuid="00fdfd03-bc9b-4126-bfbd-528d1de813a2">
							<property name="com.jaspersoft.studio.unit.height" value="px"/>
							<property name="com.jaspersoft.studio.unit.width" value="px"/>
						</reportElement>
						<box topPadding="0" leftPadding="2" bottomPadding="0" rightPadding="2">
							<pen lineWidth="0.25"/>
							<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
							<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
							<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
							<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						</box>
						<textElement textAlignment="Right" verticalAlignment="Middle">
							<font fontName="SansSerif" size="8" isBold="true"/>
						</textElement>
						<textFieldExpression><![CDATA[$F{grandtotal}]]></textFieldExpression>
					</textField>
					<textField isStretchWithOverflow="true">
						<reportElement positionType="Float" x="58" y="0" width="180" height="12" forecolor="#A30303" uuid="fa49bc50-5017-4373-a5e4-37efaa99d322">
							<property name="com.jaspersoft.studio.unit.height" value="px"/>
						</reportElement>
						<box topPadding="0" leftPadding="2" bottomPadding="0" rightPadding="2">
							<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
							<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
							<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
							<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						</box>
						<textElement verticalAlignment="Middle">
							<font fontName="SansSerif" size="8" isBold="true"/>
						</textElement>
						<textFieldExpression><![CDATA[$F{name}.equals(("prepaid")) ?T("SALDO RESIDUO") :$F{name}]]></textFieldExpression>
					</textField>
					<textField pattern="dd-MM-yyyy" isBlankWhenNull="true">
						<reportElement x="-2" y="0" width="60" height="12" forecolor="#A30303" uuid="d795050a-1aa9-4354-989a-f3aa6bdab1b9"/>
						<box topPadding="0" leftPadding="2" bottomPadding="0" rightPadding="2">
							<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
							<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
							<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
							<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						</box>
						<textElement verticalAlignment="Middle">
							<font fontName="SansSerif" size="8" isBold="true"/>
						</textElement>
						<textFieldExpression><![CDATA[$F{datetrx}]]></textFieldExpression>
					</textField>
					<textField pattern="¤#,##0.00;¤-#,##0.00" isBlankWhenNull="true">
						<reportElement key="textField" positionType="Float" x="491" y="0" width="62" height="12" forecolor="#A30303" uuid="e1ba440a-116f-4633-aefc-41bf7d22839e">
							<property name="com.jaspersoft.studio.unit.height" value="px"/>
							<property name="com.jaspersoft.studio.unit.width" value="px"/>
						</reportElement>
						<box topPadding="0" leftPadding="0" bottomPadding="0" rightPadding="0">
							<pen lineWidth="0.25"/>
							<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
							<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
							<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
							<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						</box>
						<textElement textAlignment="Right" verticalAlignment="Middle">
							<font fontName="SansSerif" size="8" isBold="true"/>
						</textElement>
						<textFieldExpression><![CDATA[$V{Saldo_riga_doc_saldo_prec}==null?$F{grandtotal}:$F{grandtotal}.add($V{Saldo_riga_doc_saldo_prec})]]></textFieldExpression>
					</textField>
				</frame>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="1">
				<line>
					<reportElement x="0" y="0" width="555" height="1" uuid="5a0d14cd-e61b-400a-92e9-1be4ea628d74"/>
				</line>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="95" splitType="Stretch">
			<line>
				<reportElement x="0" y="54" width="555" height="1" isRemoveLineWhenBlank="true" uuid="d64a191f-97db-4f5d-b4f9-1688c5aed12f">
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
			</line>
			<subreport isUsingCache="true">
				<reportElement key="" positionType="Float" x="0" y="0" width="555" height="50" isRemoveLineWhenBlank="true" uuid="bccb0c2e-fe7e-4d9e-a166-b11d2a26211c"/>
				<subreportParameter name="AD_LANGUAGE">
					<subreportParameterExpression><![CDATA[$F{ad_language}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="RECORD_ID">
					<subreportParameterExpression><![CDATA[$P{RECORD_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="AD_ORG_ID">
					<subreportParameterExpression><![CDATA[$F{ad_org_id}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="RESOURCE">
					<subreportParameterExpression><![CDATA[$P{RESOURCE}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "header_portrait.jasper"]]></subreportExpression>
			</subreport>
			<textField>
				<reportElement x="0" y="73" width="554" height="22" isRemoveLineWhenBlank="true" printWhenGroupChanges="Documentno" forecolor="#000099" uuid="24549582-6a71-46e1-b840-44ff67d7079d">
					<printWhenExpression><![CDATA[$P{IsSOTrx}!=null]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SansSerif" size="16" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{IsSOTrx}.equals("Y") ? "ESTRATTO CONTO CLIENTE":"ESTRATTO CONTO FORNITORE"]]></textFieldExpression>
			</textField>
			<frame>
				<reportElement x="0" y="55" width="555" height="18" isRemoveLineWhenBlank="true" uuid="4f874855-8e3e-4899-93ed-a6ae3de1bbaa"/>
				<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy" isBlankWhenNull="true">
					<reportElement key="textField-2" positionType="Float" x="214" y="0" width="206" height="18" isRemoveLineWhenBlank="true" forecolor="#000000" uuid="6897e674-0fbb-4638-ab21-83bc5d59da07"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font fontName="SansSerif"/>
					</textElement>
					<textFieldExpression><![CDATA[new SimpleDateFormat("dd/MM/yyyy").format($P{DateAcctFrom}) + "  al " + new SimpleDateFormat("dd/MM/yyyy").format($P{DateAcctTo})]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement positionType="Float" x="420" y="0" width="90" height="18" uuid="c05df3aa-ba21-4208-a5a6-3ab210430090"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="SansSerif" size="7"/>
					</textElement>
					<textFieldExpression><![CDATA["Pag "+$V{PAGE_NUMBER}+" / "]]></textFieldExpression>
				</textField>
				<textField evaluationTime="Report" isBlankWhenNull="false">
					<reportElement positionType="Float" x="510" y="0" width="45" height="18" uuid="9bbd899a-b70b-4382-9733-bac06b1fcb7b"/>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font fontName="SansSerif" size="7"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{PAGE_NUMBER}]]></textFieldExpression>
				</textField>
				<textField isBlankWhenNull="true">
					<reportElement positionType="Float" x="0" y="0" width="122" height="18" isRemoveLineWhenBlank="true" uuid="cd783107-4c96-4485-ba2e-fcef016d0eb2"/>
					<textElement verticalAlignment="Middle">
						<font fontName="SansSerif" size="12" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$P{RESOURCE}.getString("accountbalance_"+$F{ad_language})]]></textFieldExpression>
				</textField>
				<textField isBlankWhenNull="true">
					<reportElement positionType="Float" x="122" y="0" width="92" height="18" isRemoveLineWhenBlank="true" uuid="509733c3-592a-426e-a1de-74ca91835feb"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="SansSerif"/>
					</textElement>
					<textFieldExpression><![CDATA[$P{RESOURCE}.getString("selectionfrom_"+$F{ad_language})]]></textFieldExpression>
				</textField>
			</frame>
		</band>
	</title>
	<pageHeader>
		<band height="40" splitType="Stretch">
			<printWhenExpression><![CDATA[$V{PAGE_NUMBER} != 1]]></printWhenExpression>
			<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement key="textField-2" positionType="Float" x="214" y="22" width="206" height="18" forecolor="#000000" uuid="f919881b-5f31-4f67-915c-df0b340f92ba"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="SansSerif"/>
				</textElement>
				<textFieldExpression><![CDATA[new SimpleDateFormat("dd/MM/yyyy").format($P{DateAcctFrom}) + "  al " + new SimpleDateFormat("dd/MM/yyyy").format($P{DateAcctTo})]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement positionType="Float" x="420" y="22" width="90" height="18" uuid="50bbab02-41a0-4e68-af08-8db94c54cc74"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="SansSerif" size="7"/>
				</textElement>
				<textFieldExpression><![CDATA["Pag "+$V{PAGE_NUMBER}+"  / "]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report" isBlankWhenNull="false">
				<reportElement positionType="Float" x="510" y="22" width="45" height="18" uuid="d12bfecc-102f-4def-aef9-2908d66c8d62"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="SansSerif" size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement positionType="Float" x="0" y="22" width="122" height="18" uuid="ded8b9dd-0506-4118-a3eb-2395271935b8"/>
				<textElement verticalAlignment="Middle">
					<font fontName="SansSerif" size="12" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{RESOURCE}.getString("accountbalance_"+$F{ad_language})]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement positionType="Float" x="122" y="22" width="92" height="18" uuid="d850c7a4-0245-4a57-823f-bab0b2031d28"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="SansSerif"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{RESOURCE}.getString("selectionfrom_"+$F{ad_language})]]></textFieldExpression>
			</textField>
			<subreport isUsingCache="true">
				<reportElement key="" positionType="Float" x="0" y="0" width="555" height="20" isRemoveLineWhenBlank="true" uuid="0b7410a6-0be3-4c05-8683-0d9882a91bc0"/>
				<subreportParameter name="AD_LANGUAGE">
					<subreportParameterExpression><![CDATA[$F{ad_language}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="RECORD_ID">
					<subreportParameterExpression><![CDATA[$P{RECORD_ID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="AD_ORG_ID">
					<subreportParameterExpression><![CDATA[$F{ad_org_id}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="RESOURCE">
					<subreportParameterExpression><![CDATA[$P{RESOURCE}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "header_portrait_small.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</pageHeader>
	<detail>
		<band height="12">
			<printWhenExpression><![CDATA[$F{allocationamt}!=null]]></printWhenExpression>
			<frame>
				<reportElement positionType="Float" x="0" y="0" width="555" height="12" isRemoveLineWhenBlank="true" forecolor="#2B05FF" uuid="03f95c77-dc20-450a-a234-5f147aa7f065">
					<property name="ShowOutOfBoundContent" value="true"/>
				</reportElement>
				<box topPadding="0" leftPadding="2" bottomPadding="0" rightPadding="0">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textField isStretchWithOverflow="true" pattern="dd-MM-yyyy" isBlankWhenNull="true">
					<reportElement key="textField" positionType="Float" x="-2" y="0" width="60" height="12" forecolor="#2B05FF" uuid="69f8275c-3a01-416f-a02e-ca37417a1b3c">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<box topPadding="0" leftPadding="2" bottomPadding="0" rightPadding="2">
						<pen lineWidth="0.25"/>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font fontName="SansSerif" size="8" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{paymentdate}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true">
					<reportElement key="textField" positionType="Float" x="58" y="0" width="100" height="12" forecolor="#2B05FF" uuid="ffc9aa24-a555-4801-89ce-c845525e5dd7"/>
					<box topPadding="0" leftPadding="2" bottomPadding="0" rightPadding="2">
						<pen lineWidth="0.25"/>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font fontName="SansSerif" size="8" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{paymentdoc}== null ? T("ABBIN./COMPENS."):$F{docbasetype}.equals("APP")?T("ANTICIPO FORNITORE"):$F{docbasetype}.equals("ARR")?T("ANTICIPO CLIENTE"):$F{paymentdoc}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement positionType="Float" x="158" y="0" width="260" height="12" forecolor="#2B05FF" uuid="0294190b-9b9e-41b8-94ff-a954c0f29bb4">
						<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="e280b7e5-6ab4-4a67-b318-8e99c7579be5"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<box topPadding="0" leftPadding="2" bottomPadding="0" rightPadding="2"/>
					<textElement verticalAlignment="Middle" markup="none">
						<font fontName="SansSerif" size="7" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{paymentdoc}==null ? "RIF.: " + T($F{inv2_documentno})/*  +" " +T($F{name})*/:
"DOC. PAG. "+T($F{paymentdoc})+" - " +T($F{paymentdescription})  + ' ' + T($F{bank_name}) /*+"\n"*/+" IMP. PAGATO: "+ T(new java.text.DecimalFormat("€ #,##0.00").format($F{payamt})) /*" DEL" + (new SimpleDateFormat("dd/MM/yyyy").format($F{paymentdate}))*/]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="¤#,##0.00;¤-#,##0.00" isBlankWhenNull="true">
					<reportElement positionType="Float" x="418" y="0" width="73" height="12" forecolor="#2B05FF" uuid="16d376c0-ce90-44df-abc9-64c65473ffea">
						<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="46f7af20-3217-48ff-8c73-9e211d64ce8d"/>
					</reportElement>
					<box topPadding="0" leftPadding="2" bottomPadding="0" rightPadding="2">
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="SansSerif" size="8" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{name}.equals("prepaid")?$F{allocationamt}:$F{allocationamt}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="¤#,##0.00;¤-#,##0.00" isBlankWhenNull="true">
					<reportElement positionType="Float" x="491" y="0" width="62" height="12" forecolor="#2B05FF" uuid="f45f6e58-74e4-49ca-9e2f-1a45a7c4c7fa">
						<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="46f7af20-3217-48ff-8c73-9e211d64ce8d"/>
					</reportElement>
					<box topPadding="0" leftPadding="0" bottomPadding="0" rightPadding="0">
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="SansSerif" size="8" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{name}.equals(("prepaid"))?$V{Variable_1_2}.add($V{Variable_1_2_1}):$V{Variable_1_2}.add($V{Variable_1_2_1})]]></textFieldExpression>
				</textField>
			</frame>
		</band>
	</detail>
</jasperReport>
